<!DOCTYPE html>
<html>
<body>
	<script src="./web3.js"></script>
    <script>

        var web3;

        if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
            web3 = new Web3(new Web3.providers.HttpProvider("http://127.0.0.1:8545"));
        }
        
        var abi = [
	{
		"constant": true,
		"inputs": [],
		"name": "getMessage",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]
        var ContractaAdress = "0x60185c686a7f7523afd7dfb168a6b4f5a41aa96e";
        
        MyContract = new web3.eth.Contract(abi, ContractaAdress);

        var faq = web3.eth.getAccounts(function(error,result){
            if(!error)
            console.log("账户列表:");
            console.log(result);
        });

        MyContract.methods.getMessage().call(function(error, result){
            console.log("getMessage:" + result)
        });


    </script>
</body>
</html>
